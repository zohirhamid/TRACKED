{% extends 'base.html' %}
{% load static %}

{% block title %}{% if form.instance.pk %}Edit{% else %}Create{% endif %} Tracker - TRACKED{% endblock %}

{% block content %}
<div class="container" style="max-width: 600px;">
    <div class="page-header">
        <h1 class="page-title">{% if form.instance.pk %}Edit{% else %}Create{% endif %} Tracker</h1>
    </div>

    <div class="card">
        <form method="post">
            {% csrf_token %}
            
            <div class="form-group">
                <label class="form-label" for="{{ form.name.id_for_label }}">Tracker Name</label>
                {{ form.name }}
                {% if form.name.errors %}
                    <span class="form-error">{{ form.name.errors.0 }}</span>
                {% endif %}
                <span class="form-help">What do you want to track? (e.g., Sleep, Mood, Workout)</span>
            </div>

            <div class="form-group">
                <label class="form-label" for="{{ form.tracker_type.id_for_label }}">Type</label>
                {{ form.tracker_type }}
                {% if form.tracker_type.errors %}
                    <span class="form-error">{{ form.tracker_type.errors.0 }}</span>
                {% endif %}
                <span class="form-help">How will you track this?</span>
            </div>

            <div class="form-group">
                <label class="form-label" for="{{ form.unit.id_for_label }}">Unit (Optional)</label>
                {{ form.unit }}
                {% if form.unit.errors %}
                    <span class="form-error">{{ form.unit.errors.0 }}</span>
                {% endif %}
                <span class="form-help">e.g., hours, L, calories, /5</span>
            </div>

            <div class="form-group">
                <label class="form-label" for="{{ form.min_value.id_for_label }}">Min Value (Rating only)</label>
                {{ form.min_value }}
                {% if form.min_value.errors %}
                    <span class="form-error">{{ form.min_value.errors.0 }}</span>
                {% endif %}
                <span class="form-help">For Rating type: minimum value (e.g., 1)</span>
            </div>

            <div class="form-group">
                <label class="form-label" for="{{ form.max_value.id_for_label }}">Max Value (Rating only)</label>
                {{ form.max_value }}
                {% if form.max_value.errors %}
                    <span class="form-error">{{ form.max_value.errors.0 }}</span>
                {% endif %}
                <span class="form-help">For Rating type: maximum value (e.g., 5 or 10)</span>
            </div>

            <div class="form-group">
                <label class="form-label" for="{{ form.display_order.id_for_label }}">Display Order</label>
                {{ form.display_order }}
                {% if form.display_order.errors %}
                    <span class="form-error">{{ form.display_order.errors.0 }}</span>
                {% endif %}
                <span class="form-help">Lower numbers appear first in your grid</span>
            </div>

            <div class="form-group">
                <label class="form-label">
                    <input type="checkbox" name="is_active" {% if form.instance.is_active or not form.instance.pk %}checked{% endif %} style="margin-right: 8px;">
                    Active
                </label>
                <span class="form-help">Inactive trackers won't show in your monthly grid</span>
            </div>

            <div class="page-actions">
                <a href="{% url 'tracker:tracker_list' %}" class="button-secondary">Cancel</a>
                <button type="submit" class="button-primary">
                    {% if form.instance.pk %}Update{% else %}Create{% endif %} Tracker
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}